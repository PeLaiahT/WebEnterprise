
@model WebEnterprise.Common.Pagination

<div class="d-flex justify-content-center">
    @if (Model.HasPrev)
    {
        <a class="btn btn-info" asp-route-pageIndex=@(Model.PageIndex - 1) asp-route-pageSize=@Model.PageSize>Prev</a>
    }
    else
    {
        <button class="btn btn-secondary">Prev</button>
    }

    @if (Model.TotalPages <= 6)
    {
        for (var i = 1; i <= Model.TotalPages; i++)
        {
            if (i == Model.PageIndex)
            {
                <button class="btn btn-secondary">@i</button>
            }
            else
            {
                <a class="btn btn-info" asp-route-pageIndex=@i asp-route-pageSize=@Model.PageSize>@i</a>
            }
        }
    }
    else
    {
        if (Model.PageIndex <= 4)
        {
            for (var i = 1; i <= 5; i++)
            {
                if (i == Model.PageIndex)
                {
                    <button class="btn btn-secondary">@i</button>
                }
                else
                {
                    <a class="btn btn-info" asp-route-pageIndex=@i asp-route-pageSize=@Model.PageSize>@i</a>
                }
            }
            <button class="btn btn-secondary">...</button>
            <a class="btn btn-info" asp-route-pageIndex=@Model.TotalPages asp-route-pageSize=@Model.PageSize>@Model.TotalPages</a>
        }
        else if (Model.PageIndex >= Model.TotalPages - 3)
        {
            <a class="btn btn-info" asp-route-pageIndex=1 asp-route-pageSize=@Model.PageSize>1</a>
            <button class="btn btn-secondary">...</button>
            for (var i = Model.TotalPages - 4; i <= Model.TotalPages; i++)
            {
                if (i == Model.PageIndex)
                {
                    <button class="btn btn-secondary">@i</button>
                }
                else
                {
                    <a class="btn btn-info" asp-route-pageIndex=@i asp-route-pageSize=@Model.PageSize>@i</a>
                }
            }
        }
        else
        {
            <a class="btn btn-info" asp-route-pageIndex=1 asp-route-pageSize=@Model.PageSize>1</a>
            <button class="btn btn-secondary">...</button>
            for (var i = Model.PageIndex - 2; i <= Model.PageIndex + 2; i++)
            {
                if (i == Model.PageIndex)
                {
                    <button class="btn btn-secondary">@i</button>
                }
                else
                {
                    <a class="btn btn-info" asp-route-pageIndex=@i asp-route-pageSize=@Model.PageSize>@i</a>
                }
            }
            <button class="btn btn-secondary">...</button>
            <a class="btn btn-info" asp-route-pageIndex=@Model.TotalPages asp-route-pageSize=@Model.PageSize>@Model.TotalPages</a>
        }
    }

    @if (Model.HasNext)
    {
        <a class="btn btn-info" asp-route-pageIndex=@(Model.PageIndex + 1) asp-route-pageSize=@Model.PageSize>Next</a>
    }
    else
    {
        <button class="btn btn-secondary">Next</button>
    }
</div>